<!DOCTYPE html>
<html lang="ko">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>데이터 파이프라인 - CoinTicker</title>
    <style>
      * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
      }

      body {
        font-family: "Pretendard", -apple-system, BlinkMacSystemFont, "Segoe UI",
          sans-serif;
        background: linear-gradient(
          135deg,
          #1e3c72 0%,
          #2a5298 50%,
          #7e22ce 100%
        );
        color: #1a1a1a;
        line-height: 1.6;
        min-height: 100vh;
      }

      .container {
        max-width: 1400px;
        margin: 0 auto;
        padding: 40px 20px;
      }

      .header {
        text-align: center;
        color: white;
        padding: 60px 20px 40px;
        margin-bottom: 40px;
      }

      .header h1 {
        font-size: 3em;
        font-weight: 800;
        margin-bottom: 15px;
        text-shadow: 0 2px 10px rgba(0, 0, 0, 0.3);
      }

      .header .subtitle {
        font-size: 1.3em;
        opacity: 0.9;
      }

      .back-button {
        display: inline-flex;
        align-items: center;
        gap: 10px;
        color: white;
        text-decoration: none;
        font-size: 1.1em;
        margin-bottom: 20px;
        padding: 10px 20px;
        background: rgba(255, 255, 255, 0.1);
        border-radius: 10px;
        transition: all 0.3s;
      }

      .back-button:hover {
        background: rgba(255, 255, 255, 0.2);
        transform: translateX(-5px);
      }

      .section {
        background: rgba(255, 255, 255, 0.95);
        border-radius: 20px;
        padding: 40px;
        margin: 30px 0;
        box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2);
      }

      .section h2 {
        font-size: 2.2em;
        margin-bottom: 25px;
        color: #1a1a1a;
        padding-bottom: 15px;
        border-bottom: 3px solid #7e22ce;
      }

      /* 플로우차트 스타일 */
      .flowchart {
        display: flex;
        flex-direction: column;
        gap: 0;
        margin: 40px 0;
      }

      .flow-box {
        background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        color: white;
        padding: 25px 30px;
        border-radius: 15px;
        position: relative;
        box-shadow: 0 5px 20px rgba(102, 126, 234, 0.3);
      }

      .flow-box.data-source {
        background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);
      }

      .flow-box.processing {
        background: linear-gradient(135deg, #4facfe 0%, #00f2fe 100%);
      }

      .flow-box.storage {
        background: linear-gradient(135deg, #43e97b 0%, #38f9d7 100%);
      }

      .flow-box.analysis {
        background: linear-gradient(135deg, #fa709a 0%, #fee140 100%);
      }

      .flow-box.alert {
        background: linear-gradient(135deg, #30cfd0 0%, #330867 100%);
      }

      .flow-box h3 {
        font-size: 1.5em;
        margin-bottom: 15px;
        font-weight: 700;
      }

      .flow-box ul {
        list-style: none;
        margin: 10px 0;
      }

      .flow-box li {
        padding: 5px 0;
        padding-left: 20px;
        position: relative;
      }

      .flow-box li::before {
        content: "▸";
        position: absolute;
        left: 0;
        font-weight: bold;
      }

      .flow-arrow {
        text-align: center;
        color: white;
        font-size: 2em;
        padding: 10px 0;
        font-weight: 700;
      }

      /* 기술 지표 테이블 */
      .indicators-table {
        width: 100%;
        border-collapse: collapse;
        margin: 30px 0;
        background: white;
        border-radius: 10px;
        overflow: hidden;
        box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
      }

      .indicators-table thead {
        background: linear-gradient(135deg, #667eea, #764ba2);
        color: white;
      }

      .indicators-table th,
      .indicators-table td {
        padding: 15px;
        text-align: left;
        border-bottom: 1px solid #e9ecef;
      }

      .indicators-table th {
        font-weight: 700;
        font-size: 1.1em;
      }

      .indicators-table tbody tr:hover {
        background: #f8f9fa;
      }

      .indicators-table td:first-child {
        font-weight: 700;
        color: #7e22ce;
      }

      /* 프로세스 그리드 */
      .process-grid {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
        gap: 20px;
        margin: 30px 0;
      }

      .process-card {
        background: white;
        padding: 25px;
        border-radius: 15px;
        box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
        border-left: 5px solid #7e22ce;
      }

      .process-card h4 {
        font-size: 1.3em;
        margin-bottom: 15px;
        color: #1a1a1a;
      }

      .process-card .step-number {
        display: inline-block;
        width: 40px;
        height: 40px;
        background: linear-gradient(135deg, #667eea, #764ba2);
        color: white;
        border-radius: 50%;
        text-align: center;
        line-height: 40px;
        font-weight: 700;
        font-size: 1.2em;
        margin-bottom: 15px;
      }

      .process-card p {
        color: #6c757d;
        line-height: 1.7;
      }

      .highlight-box {
        background: linear-gradient(
          135deg,
          rgba(126, 34, 206, 0.1),
          rgba(102, 126, 234, 0.1)
        );
        border-left: 5px solid #7e22ce;
        padding: 20px;
        border-radius: 10px;
        margin: 20px 0;
      }

      .highlight-box strong {
        color: #7e22ce;
      }

      .footer {
        text-align: center;
        color: white;
        margin-top: 60px;
        padding: 30px;
        opacity: 0.9;
      }

      @media (max-width: 768px) {
        .header h1 {
          font-size: 2em;
        }

        .process-grid {
          grid-template-columns: 1fr;
        }
      }

      /* 애니메이션 */
      @keyframes fadeInUp {
        from {
          opacity: 0;
          transform: translateY(30px);
        }
        to {
          opacity: 1;
          transform: translateY(0);
        }
      }

      .section {
        animation: fadeInUp 0.8s ease-out;
      }
    </style>
  </head>
  <body>
    <div class="container">
      <a href="/cointicker/index.html" class="back-button">
        ← 메인으로 돌아가기
      </a>

      <div class="header">
        <h1>📊 데이터 파이프라인</h1>
        <p class="subtitle">기술적 지표 & 크롤링 프로세스 상세</p>
      </div>

      <div class="section">
        <h2>🎯 자동 수집되는 기술적 지표</h2>

        <table class="indicators-table">
          <thead>
            <tr>
              <th>지표</th>
              <th>용도</th>
              <th>알림 조건</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td>RSI</td>
              <td>과매수/과매도 판단</td>
              <td>RSI > 70 (과매수) 또는 < 30 (과매도)</td>
            </tr>
            <tr>
              <td>MACD</td>
              <td>추세 전환 신호</td>
              <td>신호선 크로스오버 발생</td>
            </tr>
            <tr>
              <td>ADX</td>
              <td>추세 강도 측정</td>
              <td>ADX > 25 (강한 추세)</td>
            </tr>
            <tr>
              <td>Williams %R</td>
              <td>단기 모멘텀</td>
              <td>-80 이하 (매수), -20 이상 (매도)</td>
            </tr>
            <tr>
              <td>CCI</td>
              <td>사이클 분석</td>
              <td>±100 이탈 시</td>
            </tr>
            <tr>
              <td>ROC</td>
              <td>변화율 측정</td>
              <td>음수 (매도 신호), 양수 (매수 신호)</td>
            </tr>
            <tr>
              <td>ATR</td>
              <td>변동성 측정</td>
              <td>평균의 1.2배 초과 시 고변동성</td>
            </tr>
            <tr>
              <td>Bollinger Bands</td>
              <td>변동성 밴드</td>
              <td>상/하단 밴드 돌파 시</td>
            </tr>
          </tbody>
        </table>

        <div class="highlight-box">
          <strong>💡 핵심 특징:</strong> 8가지 주요 지표를 실시간으로 계산하여
          다차원적인 시장 분석을 제공합니다. 각 지표는 독립적으로 알림을
          생성하며, 복합 신호 발생 시 신뢰도가 더욱 높아집니다.
        </div>
      </div>

      <div class="section">
        <h2>🌐 수집 데이터 소스</h2>

        <div
          style="
            background: linear-gradient(
              135deg,
              rgba(102, 126, 234, 0.1),
              rgba(118, 75, 162, 0.1)
            );
            border-radius: 15px;
            padding: 30px;
            margin-bottom: 40px;
          "
        >
          <h3 style="color: #1a1a1a; margin-bottom: 20px; font-size: 1.6em">
            실시간 크롤링 웹사이트
          </h3>

          <div
            style="
              display: grid;
              grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
              gap: 20px;
            "
          >
            <!-- Upbit Trends -->
            <a
              href="https://upbit.com/service_center/trend"
              target="_blank"
              rel="noopener noreferrer"
              style="text-decoration: none"
            >
              <div
                style="
                  background: white;
                  border-radius: 12px;
                  padding: 20px;
                  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1);
                  transition: transform 0.3s;
                  border-left: 5px solid #0062df;
                "
              >
                <div style="font-size: 1.8em; margin-bottom: 10px">🇰🇷</div>
                <h4
                  style="color: #0062df; font-size: 1.3em; margin-bottom: 10px"
                >
                  Upbit Trends
                </h4>
                <p style="color: #6c757d; font-size: 0.95em; line-height: 1.6">
                  국내 최대 거래소<br />
                  거래량 급증 코인 순위<br />
                  실시간 인기 검색어
                </p>
              </div>
            </a>

            <!-- Coinness -->
            <a
              href="https://coinness.com/news"
              target="_blank"
              rel="noopener noreferrer"
              style="text-decoration: none"
            >
              <div
                style="
                  background: white;
                  border-radius: 12px;
                  padding: 20px;
                  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1);
                  transition: transform 0.3s;
                  border-left: 5px solid #f59e0b;
                "
              >
                <div style="font-size: 1.8em; margin-bottom: 10px">📰</div>
                <h4
                  style="color: #f59e0b; font-size: 1.3em; margin-bottom: 10px"
                >
                  Coinness
                </h4>
                <p style="color: #6c757d; font-size: 0.95em; line-height: 1.6">
                  실시간 암호화폐 뉴스<br />
                  5~15분 주기 업데이트<br />
                  한글/영문 뉴스
                </p>
              </div>
            </a>

            <!-- SaveTicker -->
            <a
              href="https://www.saveticker.com/app/newsYahooFinance"
              target="_blank"
              rel="noopener noreferrer"
              style="text-decoration: none"
            >
              <div
                style="
                  background: white;
                  border-radius: 12px;
                  padding: 20px;
                  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1);
                  transition: transform 0.3s;
                  border-left: 5px solid #10b981;
                "
              >
                <div style="font-size: 1.8em; margin-bottom: 10px">📊</div>
                <h4
                  style="color: #10b981; font-size: 1.3em; margin-bottom: 10px"
                >
                  SaveTicker
                </h4>
                <p style="color: #6c757d; font-size: 0.95em; line-height: 1.6">
                  Yahoo Finance 데이터<br />
                  주식 & 암호화폐 동향<br />
                  기술적 분석 자료
                </p>
              </div>
            </a>

            <!-- Perplexity Finance -->
            <a
              href="https://www.perplexity.ai/finance"
              target="_blank"
              rel="noopener noreferrer"
              style="text-decoration: none"
            >
              <div
                style="
                  background: white;
                  border-radius: 12px;
                  padding: 20px;
                  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1);
                  transition: transform 0.3s;
                  border-left: 5px solid #8b5cf6;
                "
              >
                <div style="font-size: 1.8em; margin-bottom: 10px">🤖</div>
                <h4
                  style="color: #8b5cf6; font-size: 1.3em; margin-bottom: 10px"
                >
                  Perplexity Finance
                </h4>
                <p style="color: #6c757d; font-size: 0.95em; line-height: 1.6">
                  AI 기반 금융 분석<br />
                  시장 동향 요약<br />
                  전문가 인사이트
                </p>
              </div>
            </a>

            <!-- CNN Fear & Greed -->
            <a
              href="https://edition.cnn.com/markets/fear-and-greed"
              target="_blank"
              rel="noopener noreferrer"
              style="text-decoration: none"
            >
              <div
                style="
                  background: white;
                  border-radius: 12px;
                  padding: 20px;
                  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1);
                  transition: transform 0.3s;
                  border-left: 5px solid #ef4444;
                "
              >
                <div style="font-size: 1.8em; margin-bottom: 10px">😱</div>
                <h4
                  style="color: #ef4444; font-size: 1.3em; margin-bottom: 10px"
                >
                  CNN Fear & Greed
                </h4>
                <p style="color: #6c757d; font-size: 0.95em; line-height: 1.6">
                  공포·탐욕 지수<br />
                  시장 심리 정량화<br />
                  일일 업데이트
                </p>
              </div>
            </a>

            <!-- CoinGecko API -->
            <a
              href="https://www.coingecko.com/"
              target="_blank"
              rel="noopener noreferrer"
              style="text-decoration: none"
            >
              <div
                style="
                  background: white;
                  border-radius: 12px;
                  padding: 20px;
                  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1);
                  transition: transform 0.3s;
                  border-left: 5px solid #00b8d4;
                "
              >
                <div style="font-size: 1.8em; margin-bottom: 10px">🦎</div>
                <h4
                  style="color: #00b8d4; font-size: 1.3em; margin-bottom: 10px"
                >
                  CoinGecko API
                </h4>
                <p style="color: #6c757d; font-size: 0.95em; line-height: 1.6">
                  실시간 가격 데이터<br />
                  시가총액, 거래량<br />
                  100+ 코인 지원
                </p>
              </div>
            </a>
          </div>
        </div>

        <style>
          a > div:hover {
            transform: translateY(-5px);
            box-shadow: 0 8px 20px rgba(0, 0, 0, 0.15) !important;
          }
        </style>
      </div>

      <div class="section">
        <h2>🔄 완전 자동화 데이터 파이프라인</h2>

        <div class="flowchart">
          <div class="flow-box data-source">
            <h3>1️⃣ 데이터 수집 (Data Collection)</h3>
            <ul>
              <li>
                <strong>웹 크롤링</strong>: Upbit, Coinness, SaveTicker,
                Perplexity, CNN
              </li>
              <li>
                <strong>API 연동</strong>: CoinGecko, Binance (OHLCV 데이터)
              </li>
              <li><strong>수집 주기</strong>: 5분 ~ 1시간 (소스별 최적화)</li>
              <li><strong>일일 처리량</strong>: 500 ~ 2,500개 데이터</li>
            </ul>
          </div>

          <div class="flow-arrow">↓</div>

          <div class="flow-box processing">
            <h3>2️⃣ 데이터 정제 (Data Cleaning)</h3>
            <ul>
              <li>결측치 처리 (Forward Fill, Interpolation)</li>
              <li>이상치 필터링 (IQR 방식, Z-Score)</li>
              <li>타임스탬프 정규화 (UTC 기준)</li>
              <li>데이터 타입 변환 및 검증</li>
            </ul>
          </div>

          <div class="flow-arrow">↓</div>

          <div class="flow-box analysis">
            <h3>3️⃣ 기술적 지표 계산 (Technical Indicators)</h3>
            <ul>
              <li>
                <strong>TA-Lib 라이브러리</strong> 사용하여 8가지 지표 계산
              </li>
              <li>
                RSI, MACD, ADX, Williams %R, CCI, ROC, ATR, Bollinger Bands
              </li>
              <li>각 지표별 파라미터 최적화 (예: RSI 14일, MACD 12-26-9)</li>
              <li>병렬 처리로 계산 속도 최적화</li>
            </ul>
          </div>

          <div class="flow-arrow">↓</div>

          <div class="flow-box analysis">
            <h3>4️⃣ 지지선/저항선 탐지 (Support & Resistance)</h3>
            <ul>
              <li><strong>K-Means 클러스터링</strong>으로 가격대 그룹화</li>
              <li>거래량 가중 평균으로 강도 계산</li>
              <li>최근 100~500개 캔들 데이터 분석</li>
              <li>상위 3개 지지선 & 저항선 추출</li>
            </ul>
          </div>

          <div class="flow-arrow">↓</div>

          <div class="flow-box storage">
            <h3>5️⃣ 데이터 저장 (Storage)</h3>
            <ul>
              <li>
                <strong>Hadoop HDFS</strong>: 원본 데이터 분산 저장 (3중 복제)
              </li>
              <li>
                <strong>MariaDB</strong>: 정제된 데이터 & 지표 값 (인덱싱
                최적화)
              </li>
              <li>파티셔닝: 날짜별 자동 파티션 (월 단위)</li>
              <li>백업: 일일 자동 백업 (7일 보관)</li>
            </ul>
          </div>

          <div class="flow-arrow">↓</div>

          <div class="flow-box alert">
            <h3>6️⃣ 알림 생성 (Alert System)</h3>
            <ul>
              <li>
                <strong>심각도 분류</strong>: Critical / High / Medium / Low
              </li>
              <li>
                <strong>알림 채널</strong>: 이메일, Slack, 웹 푸시, 콘솔 로그
              </li>
              <li>중복 알림 방지 (쿨다운 시간: 10분)</li>
              <li>사용자 맞춤 필터링 (관심 코인, 지표 선택)</li>
            </ul>
          </div>

          <div class="flow-arrow">↓</div>

          <div class="flow-box data-source">
            <h3>7️⃣ 대시보드 시각화 (Visualization)</h3>
            <ul>
              <li>
                <strong>React 대시보드</strong>: 실시간 차트 & 지표 업데이트
              </li>
              <li>Chart.js로 캔들스틱, 지표 오버레이 차트 구현</li>
              <li>WebSocket 연결로 1초 단위 업데이트</li>
              <li>모바일 반응형 디자인</li>
            </ul>
          </div>
        </div>

        <div class="highlight-box">
          <strong>⚡ 처리 성능:</strong> 전체 파이프라인은 평균 2~5초 내에
          완료되며, 일일 최대 2,500개 데이터 처리 가능. 병렬 처리와 캐싱
          전략으로 실시간성 보장.
        </div>
      </div>

      <div class="section">
        <h2>🔍 상세 프로세스</h2>

        <div class="process-grid">
          <div class="process-card">
            <div class="step-number">1</div>
            <h4>API 호출 관리</h4>
            <p>
              Rate Limiting: 초당 최대 10회 요청<br />
              재시도 로직: 실패 시 지수 백오프 (최대 3회)<br />
              타임아웃: 5초 (응답 없을 시 스킵)
            </p>
          </div>

          <div class="process-card">
            <div class="step-number">2</div>
            <h4>데이터 검증</h4>
            <p>
              스키마 검증: JSON Schema로 데이터 구조 확인<br />
              범위 체크: 가격/거래량 정상 범위 검증<br />
              타임스탬프 검증: 시간 역전 방지
            </p>
          </div>

          <div class="process-card">
            <div class="step-number">3</div>
            <h4>병렬 처리</h4>
            <p>
              멀티스레딩: 최대 4개 스레드 동시 실행<br />
              코인별 독립 처리: 간섭 없이 병렬 분석<br />
              Queue 시스템: 작업 대기열 관리
            </p>
          </div>

          <div class="process-card">
            <div class="step-number">4</div>
            <h4>캐싱 전략</h4>
            <p>
              Redis 캐시: 최근 1시간 데이터 메모리 저장<br />
              TTL: 5분 (자동 만료)<br />
              캐시 히트율: 평균 85% 이상
            </p>
          </div>

          <div class="process-card">
            <div class="step-number">5</div>
            <h4>에러 핸들링</h4>
            <p>
              로깅: 모든 에러 상세 기록 (ELK 스택)<br />
              알림: Critical 에러 시 관리자에게 즉시 알림<br />
              복구: 자동 재시작 & 체크포인트 복구
            </p>
          </div>

          <div class="process-card">
            <div class="step-number">6</div>
            <h4>모니터링</h4>
            <p>
              시스템 헬스: CPU, 메모리, 디스크 사용률 추적<br />
              성능 지표: 응답 시간, 처리량 측정<br />
              대시보드: Grafana로 실시간 모니터링
            </p>
          </div>
        </div>
      </div>

      <div class="section">
        <h2>📈 데이터베이스 스키마</h2>

        <div style="background: #f8f9fa; padding: 20px; border-radius: 10px">
          <h3 style="margin-bottom: 15px">MariaDB 테이블 구조</h3>
          <pre
            style="
              font-family: 'Courier New', monospace;
              font-size: 0.9em;
              line-height: 1.8;
            "
          >
<strong>1. price_data</strong> (가격 데이터)
- id (BIGINT, PK, AUTO_INCREMENT)
- symbol (VARCHAR, 인덱스)
- timestamp (DATETIME, 인덱스)
- open, high, low, close (DECIMAL)
- volume (BIGINT)
- created_at (DATETIME)

<strong>2. technical_indicators</strong> (기술적 지표)
- id (BIGINT, PK, AUTO_INCREMENT)
- symbol (VARCHAR, 인덱스)
- timestamp (DATETIME, 인덱스)
- rsi, macd, adx, williams_r (DECIMAL)
- cci, roc, atr (DECIMAL)
- bb_upper, bb_middle, bb_lower (DECIMAL)
- created_at (DATETIME)

<strong>3. support_resistance</strong> (지지선/저항선)
- id (BIGINT, PK, AUTO_INCREMENT)
- symbol (VARCHAR, 인덱스)
- level (DECIMAL)
- type (ENUM: 'support', 'resistance')
- strength (INT, 1-5)
- detected_at (DATETIME)

<strong>4. alerts</strong> (알림 이력)
- id (BIGINT, PK, AUTO_INCREMENT)
- symbol (VARCHAR)
- indicator (VARCHAR)
- severity (ENUM: 'critical', 'high', 'medium', 'low')
- message (TEXT)
- triggered_at (DATETIME)
- acknowledged (BOOLEAN)
          </pre>
        </div>
      </div>

      <div class="footer">
        <p><strong>CoinTicker - 데이터 파이프라인</strong></p>
        <p>실시간 기술적 지표 계산 & 자동화 시스템 | 2025년 10월</p>
        <p style="margin-top: 15px; opacity: 0.8">
          👤 juns | 📧 junexi0828@gmail.com
        </p>
      </div>
    </div>
  </body>
</html>
